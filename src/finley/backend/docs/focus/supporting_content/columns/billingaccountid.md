# Column: BillingAccountId

## Example provider mappings

Current column mappings found in available data sets:

| Provider  | Data set                   | Column                   |
|-----------|----------------------------|--------------------------|
| AWS       | CUR                        | bill_payer_account_id    |
| GCP       | Big Query Billing Export   | billing_account_id       |
| Microsoft | Cost details               | EA: BillingAccountId     |
| Microsoft | Cost details               | MCA: BillingProfileId    |
| Microsoft | Cost details               | MOSA: SubscriptionId     |
| OCI       | Cost reports               | cost/subscriptionId      |


## Documentation

- GCP: [Resource Hierarchy](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy#resource-hierarchy-detail)
- Azure: [Resource Hierarchy](https://learn.microsoft.com/en-us/azure/governance/management-groups/overview), [Organizing resources](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/view-all-accounts)
- AWS: [Org Concepts](https://docs.aws.amazon.com/organizations/latest/userguide/orgs_getting-started_concepts.html)


## Example usage scenarios

Current values observed in billing data for various scenarios:

| Provider  | Data set                   | Scenario                   |
|-----------|----------------------------|----------------------------|
| AWS       | CUR                        |                            |
| GCP       | Big Query Billing Export   |                            |
| Microsoft | Cost details               |                            |
| OCI       | Cost reports               |                            |


## Discussion / Scratch space:

GCP mapping in case of a reseller:

Quotes from GCP documentation:

- [Structure of Detailed data export | Cloud Billing](https://cloud.google.com/billing/docs/how-to/export-data-bigquery-tables/detailed-usage): "billing_account_id: ... For resellers: For usage costs generated by a Cloud Billing subaccount, this is the ID of the subaccount, not the ID of the parent reseller Cloud Billing account..."
- [About Cloud Billing](https://cloud.google.com/billing/docs/concepts#subaccounts): "...Cloud Billing subaccounts allow you to group charges from projects together on a separate section of your invoice. A billing subaccount is a Cloud Billing account that is owned by a reseller's parent Cloud Billing account. The usage charges for all billing subaccounts are paid for by the reseller's parent Cloud Billing account..."

I have no experience with GCP reseller UC, but I assume you should/could use [REST Resource: billingAccounts | Cloud Billing](https://cloud.google.com/billing/docs/reference/rest/v1/billingAccounts) in order to resolve the Parent Billing account ID for Provider mapping?!
