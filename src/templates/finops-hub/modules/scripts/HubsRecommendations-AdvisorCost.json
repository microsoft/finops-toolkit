{
    "dataset": "Recommendations",
    "provider": "Microsoft",
    "query": "advisorresources | where type == 'microsoft.advisor/recommendations' | where properties.category == 'Cost' | extend x_RecommendationDetails = bag_set_key(properties.extendedProperties, 'RecommendationImpact', properties.impact) | project x_RecommendationId=id, x_ResourceGroupName=tolower(resourceGroup), SubAccountId=subscriptionId, x_RecommendationCategory=tostring(properties.category), x_RecommendationTypeId= tostring(properties.recommendationTypeId), x_RecommendationDescription=tostring(properties.shortDescription.problem), x_RecommendationSolution=tostring(properties.shortDescription.solution), ResourceId=tolower(properties.resourceMetadata.resourceId), x_ResourceType=tolower(properties.impactedField), ResourceName=tolower(properties.impactedValue), x_RecommendationDetails, x_RecommendationDate=tostring(properties.lastUpdated) | join kind=leftouter ( resourcecontainers | where type == 'microsoft.resources/subscriptions' | project SubAccountName=name, SubAccountId=subscriptionId ) on SubAccountId | project-away SubAccountId1",
    "queryEngine": "resourceGraph",
    "scope": "tenant",
    "source": "Azure Advisor",
    "type": "HubsRecommendations-AzureAdvisorCost",
    "version": "1.0"
}