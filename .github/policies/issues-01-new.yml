id: issues-01-new
name: GitOps.PullRequestIssueManagement
description: Handles when an issue is first opened
owner:
resource: repository
disabled: false
where:

# spell-checker:disable
configuration:
  resourceManagementConfiguration:
    eventResponderTasks:
      - description: >-
          When an author creates new issue:
          - Assign to PM
          - Label with `Needs: Triage ğŸ”`

          TODO: Consider adding a comment to teach reviewer about what they can do: "@author, thanks for the issue! Please make sure all relevant details are included. @reviewer, please triage this issue. If you need more details, leave a comment with #needs-info..."
        if:
          - payloadType: Issues
          - isAction:
              action: Opened
          - not: isAssignedToSomeone
          - not:
              hasLabel:
                label: 'Needs: Information'
          - not:
              hasLabel:
                label: 'Status: âœï¸ Spec in progress'
          - not:
              hasLabel:
                label: 'Status: ğŸ”­ Spec review'
          - not:
              hasLabel:
                label: 'Status: â–¶ï¸ Ready'
          - not:
              hasLabel:
                label: 'Status: ğŸ”„ï¸ In progress'
          - not:
              hasLabel:
                label: 'Status: ğŸ”¬ Code review'
        then:
          - addLabel:
              label: 'Needs: Triage ğŸ”'
          - assignTo:
              user: flanakin
onFailure:
onSuccess:
